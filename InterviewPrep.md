# Подготовка к интервью

## Coding

Начать рекомендую с решения задач по темам. Мне понравилась подборка ["Решение олимпиадных задач"](https://acmp.ru/asp/do/index.asp?main=course&id_course=2).
К сожалению это не курс, а просто хорошая подборка задач. Так что теорию надо читать где-то отдельно. Если застрял, то
разбор почти всех задач есть у [Федора Меньшикова](https://www.youtube.com/channel/UCM01TVLxMvqEXq4Z9AFl-jA) прям на ютубе.
Я заморочился и решил все: [GitHub](https://github.com/deniskokarev/practice/tree/master/c/acmp) - если че можно подсмотреть.

Сайт [ACMP](https://acmp.ru/) любительский, так что надо смириться с интерфейсом и "фичами". Самая главная из которых —
тебе не скажут на каком наборе данных ломается решение. Так делают на соревнованиях, но тут режим "хардкор" включен всегда.
Дисциплинирует

Из этой подборки можно с чистой совестью пропустить "Длинная арифметика" и "Вычислительная геометрия".

Темы "Целочисленная арифметика" и "Комбинаторика" не нужны для интервью, но будут обязательны для участия в соревнованиях
даже самого начального уровня. Все остальные темы обязательны к изучению. После того как есть понимание базовых вещей можно
переходить на любые другие ресурсы.

Еще раз по темам можно пройтись на [HackerRank](https://www.hackerrank.com). Тут тоже сразу не раскрывают на каком наборе
входных данных ломается, но можно "купить" тест на заработанные баллы:

- [Problem Solving](https://www.hackerrank.com/domains/algorithms)
- [Interview Preparation Kit](https://www.hackerrank.com/interview/interview-preparation-kit)

HackerRank рекомендует [Project Euler](https://projecteuler.net/), но это уже чрезмерный уклон в математику.

Для кодового интервью самый полезный сайт [LeetCode](https://leetcode.com). В режиме практики показывают на каком тесте
ломается решение. Так же есть фильтр задач по темам.

Почти все доступно бесплатно, но подписка открывает доп задачки и некоторые авторские решения. Пожалуй имеет смысл, но я
не платил. В дискуссиях на форуме и так есть все решения с объяснениями.

Для решения вразнобой настоятельно рекомендую делать "задачи дня", вот за [Июль 2021](https://leetcode.com/explore/challenge/card/july-leetcoding-challenge-2021).
Рекомендую пройти за все предыдущие месяцы. Это удачная подборка ключевых задач покрывающих целые темы и при этом имеющие
компактное и элегантное решение.

Народ не парится и 90% задач на своих интервью я сразу узнавал. Причем после тысчонки задач не приходится кривить душой
о том решал-ли я задачу раньше. Я реально не помню, просто сразу знаю как делать.

Когда успешно сдал обязательно почитай солюшн/дискуссии и посмотри код у других (доступно если ткнуть на график статистики
на страничке "Accepted") Иногда я даже не ожидал настолько элегантного подхода. Если не решил - тем более читай форум до
просветления.

Нужно участвовать в соревнованиях — начать с виртуальных, потом в реальном времени, ибо на интервью писать придется на время.
Еженедельные на [LeetCode](https://leetcode.com/contest/) проходят неудобно, поздно вечером в субботу. Но раз в две-недели
идет по утрам в воскресенье. 

Параллельно рекомендую codeforces. Это уже чисто соревновательная тема, где недостаточно быть хорошо подготовленным, надо
еще быть умным :-) Уровень Div 3 примерно соответствует литкоду. Есть огромный архив по темам и уровню в виде численного
рейтинга, типа шахматного. При решении в офлайне так же показывает на каком примере ломается, но с ограничением в 1000
знаков что-ли.

Вопросов типа codeforces на интервью не будет, но они стимулируют мозг не просто выдать заученное решение, а именно решить.
Т.е. найти логическую цепочку и размотать незнакомую задачу. У меня получалось откровенно слабо, но я считаю что мучился
не зря. Незнакомые задачи на интервью все же попадаются.

Участие в соревнованиях приносит необходимый элемент азарта в скучную подготовку.

Из известных соревновательных есть еще topcoder, но он заметно уступает codeforces по всем параметрам.

Итого:
- [ACMP](https://acmp.ru/) - по темам курса  ["Решение олимпиадных задач"](https://acmp.ru/asp/do/index.asp?main=course&id_course=2)
- [HackerRank](https://www.hackerrank.com) - по темам "Problem Solving" и "Interview Preparation Kit"
- [LeetCode](https://leetcode.com/contest/) - "daily challenge"+вразнобой+соревнования
- [CodeForces](https://codeforces.com) - вразнобой+соревнования

Не советую:
- topcoder.com
- projecteuler.com

### Теория:

- Гуглишь по мере прохождения. Начать с wiki и лекций по дискретке, [типа таких](https://publications.hse.ru/mirror/pubs/share/direct/393719078.pdf)
- Introduction To Algorithms - фундаментальный труд где можно читать отдельные темы
- Cracking Coding Interview - введение в сам процесс интервью
- Elements of Programming Interviews - проверить себя и порешать задачки со звездочкой на доске

*Решать на доске это вообще отдельный спорт и я был просто счастлив, что на виртуально-очных интервью можно было просто
печатать в редакторе. Если такой возможности не будет надо обязательно тренироваться писать на доске. Можно прям себе доску
купить.*

### Репетиторство:

На каком-то этапе можно пообщаться с [Федором](https://vk.com/fyodor_menshikov) - он как раз специализируется на алгоритмической
теме. Я с ним немного занимался. С одной стороны хотелось материально отблагодарить за все сотни видео с разборами, с другой
дисциплинировать себя. Надо заниматься, все-таки деньги платишь. Основное преимущество индивидуально подобранные задачки.


## System Design:

Нужно отнестись со всей ответственностью к этому разделу. Кое-какое понимание пришло после нескольких ресурсов, mock-интервью с друзьями, ну и реальных интервью.

Помогло что знал на уровне выше среднего:

- Цикл разработки и деплоя: `git`, `Jira`+`Bitbucket`, `gtest`, `JUnit`, `RPM` repo, `Ansible`, `Chef`, `Jenkins`
- Веб
  - Путь от броузера до серверного кода и обратно
  - Балансировка/сервисное обслуживание
  - Безопастность
  - Знать о CDN
- Реляционные БД: `MySQL`,
- Блоб хранилища: `S3`, `Ceph`,
- Потоковая обработка: `Kafka`,
- Мониторинг и использование time-series DBs: `Prometheus`, `AlertManager`, `Grafana`,
  - __NB__: парсинг логов не является практичным способом мониторинга
  - __NNB__: как и SNMP traps
- Облачные технологии и виртуализация: `OpenStack`, `EC2`,
- Design Patterns - владеть основной терминологией: `Singleton`, `Factory`, `Visitor`, `Adapter`,

Помогло что имел представление о распределенных системах:

- Проблемы транзакций в распределенных системах: CAP-теорема, проблема двух генералов, проблема византийских генералов
- Распределенный кэш: `Redis`, `Memcached`,
- Paxos/Raft: `Zookeeper`
- Не реляционные БД: `Hive`

Мне на интервью не пригодилось, но настоятельно советую знать:

- Многопоточная обработка на одном сервере: `std::thread`, `std::condition_variable`, POSIX `IPC`,
- Атомарные операции и `lock-free` алгоритмы/структуры данных. Надо знать что нет общего решения и все базируются на принципе
  атомарного изменения одного последнего указателя. Даже стандартный С++20 не может похвастать `lock-free` структурами.
  По-прежнему дан только базовый `std::atomic` для скалярных типов. Поэтому можно знакомится с `java.util.concurrent.atomic.*`, `java.util.concurrent.ConcurrentSkipListMap`,
- Сетевые технологии: `TCP/IP` routing, `DNS`, `Keepalived`, `HAProxy`,


### Ресурсы:
- [Grokking the System Design Interview](https://www.educative.io/courses/grokking-the-system-design-interview) - платный курс
- [Designing Data-Intensive Applications](https://www.amazon.com/Designing-Data-Intensive-Applications-Reliable-Maintainable/dp/1449373321) - хорошая книга
- [System Design Interview](https://www.amazon.com/System-Design-Interview-insiders-Second/dp/B08CMF2CQF) - книга с примерами и разборами
- [Distributed Systems](https://www.youtube.com/channel/UC-X5TC3ir8_8pi0ElvVXnFQ) - короткие ютуб презентации

Несмотря на то, что я довольно плотно знаком с большинством из упомянутых тем, это не гарантировало успешного прохождения
интервью. Нельзя объять необъятное и надо придерживаться временных рамок. Все интервью должно занять ~45мин. Исходя из
этого я сделал примерно такой план:

### 10-15 мин обсудить Minimal Viable Product:
- Функциональные требования в виде Use-Cases, включая GUI
- Масштаб проекта: library, single node app, distributed app
- Отказоустойчивость: что выбираем из CAP
- Мониторинг
- Monetization: как планируем зарабатывать - может иметь отпечаток на структуре БД 
- Authentication & Authorization, Encryption - где и как храним соответствующие атрибуты
- Нужен-ли интерфейс с legacy
- Есть-ли каке-то другие технические рамки: язык, БД,

__ВАЖНО__: самому задавать тон дискуссии и уточнять отдельные вопросы

### 5-10 мин обсудить размеры задачи чтобы удалось прикинуть сколько нужно
- CPU
- Дискового пространства
- Пропускной способности сети
  
  *Для этого неплохо примерно знать размер средней веб странички, картинки, видео, объем/скорость современных дисков, скорость
  сетевых адаптеров, количество ядер CPU* 

### 10-15 мин High-Level Design
- Какую GUI технологию используем
- Какую БД берем и что там храним. Например:
  - ... `Redis` хранит metadata
  - ... `S3` хранит блобы
  - ... видео будут на `CDN`
- Data Flow. Например:
  - ... внешний интерфейс `REST`
  - ... между нодами `Kafka`
  - ... конфигурация кластера `Zookeeper`
- Maintenance/Failover. Например:
  ... мы выбрали компоненты поддерживающие отказоустойчивость "out of the box" так что у нас автоматически получилась
  полностью отказоустойчивая система
- Monitoring/Alerting
- Basic Processing Algorithms
- __ЗАКОНЧИТЬ__ выводами о потенциально-узких местах и прикинуть пределы масштабирования

__ВАЖНО__: пояснять преимущества/компромиссы того или иного подхода. Например
- ... берем `MySQL` вместо `Postgres` так как в архитектуре не предвидится сложных транзакций
- ... вообще-то можно взять и `Redis`, но `MySQL` на таких объемах тоже потянет и при этом является более проработанной платформой
- ... будем делать BFS обход графа так как не надо заботиться о глубине стека
- ... исходя из стандартного интерфейса в 10Gbps нам удастся поддерживать до 10k пользователей на ноду. Масштабирование
  будет линейным.

### 10 мин оставить на Deep-Dive
Предложить окунуться в детали любого компонента. Рекомендую самому предложить область где наиболее комфортно себя чувствуешь



## Behavioral:

*TBD*

Это тот раздел где котором можно ожидать максимальной отдачи от рекрутера

Наблюдения:

Польза от общения с рекрутерами была только на linked-in и только от самих компаний. Если пишет фриланс-рекрутер даже на
том же linked-in, общаться с такими пустая трата времени.

Никогда не говори сколько получаешь и никогда первым не называй ожидаемую зарплату. Пусть сделают
лучшее предложение от которого уже торговаться. Ориентировочные [зарплаты](https://www.levels.fyi)